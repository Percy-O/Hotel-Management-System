{% extends 'base_public.html' %}
{% load static %}

{% block title %}Our Rooms - {{ request.tenant.name|default:"Luxury Hotel" }}{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="relative h-[60vh] min-h-[400px] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 z-0">
        <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39?q=80&w=2070&auto=format&fit=crop" alt="Background" class="w-full h-full object-cover animate-scale-slow">
        <div class="absolute inset-0 bg-black/40"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
    </div>
    <div class="relative z-10 text-center px-4 max-w-4xl mx-auto">
        <p class="text-gold-400 font-sans text-sm md:text-base tracking-[0.3em] uppercase mb-6 animate-fade-in-up">Accommodations</p>
        <h1 class="font-serif text-5xl md:text-7xl text-white mb-6 leading-tight animate-fade-in-up delay-100">
            Find Your <span class="italic text-gold-200">Sanctuary</span>
        </h1>
        <p class="text-gray-200 text-lg font-light max-w-2xl mx-auto animate-fade-in-up delay-200">
            Choose from our collection of thoughtfully designed rooms and suites, where every detail is curated for your comfort.
        </p>
    </div>
</div>

<!-- Filter Bar (Optional Visual Only for now to match 'Controlled' look) -->
<div class="bg-white border-b border-gray-100 sticky top-20 z-40 shadow-sm hidden md:block">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-center h-16 space-x-8">
            <a href="?category=all" class="text-dark-900 font-sans text-xs font-bold uppercase tracking-widest hover:text-gold-600 transition-colors border-b-2 border-gold-500 pb-1">All Rooms</a>
            <a href="?category=suites" class="text-gray-500 font-sans text-xs font-bold uppercase tracking-widest hover:text-gold-600 transition-colors pb-1">Suites</a>
            <a href="?category=villas" class="text-gray-500 font-sans text-xs font-bold uppercase tracking-widest hover:text-gold-600 transition-colors pb-1">Villas</a>
            <a href="?category=penthouses" class="text-gray-500 font-sans text-xs font-bold uppercase tracking-widest hover:text-gold-600 transition-colors pb-1">Penthouses</a>
        </div>
    </div>
</div>

<!-- Room Grid -->
<section class="py-24 bg-white min-h-screen">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for room_type in room_types %}
            <div class="group relative h-[600px] w-full overflow-hidden cursor-pointer bg-dark-900 shadow-xl">
                <!-- Image -->
                <a href="{% url 'room_detail' room_type.pk %}" class="block h-full w-full">
                    {% if room_type.image %}
                        <img src="{{ room_type.image.url }}" alt="{{ room_type.name }}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110 opacity-90 group-hover:opacity-100">
                    {% else %}
                        <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39?q=80&w=2070&auto=format&fit=crop" alt="Room Placeholder" class="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110 opacity-90 group-hover:opacity-100">
                    {% endif %}
                    
                    <!-- Gradient Overlay -->
                    <div class="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-80 transition-opacity duration-500 group-hover:opacity-60"></div>
                    
                    <!-- Content Positioned at Bottom -->
                    <div class="absolute bottom-0 left-0 w-full p-8 translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <div class="border-l-2 border-gold-500 pl-6 mb-6">
                            <h3 class="font-serif text-3xl text-white mb-2 leading-none">{{ room_type.name }}</h3>
                            <p class="text-gray-300 font-sans text-xs uppercase tracking-widest flex items-center gap-2">
                                <span class="material-symbols-outlined text-sm">person</span> {{ room_type.capacity }} Guests
                                <span class="mx-2">&bull;</span>
                                <span class="material-symbols-outlined text-sm">square_foot</span> 45 mÂ²
                            </p>
                        </div>
                        
                        <div class="flex items-end justify-between border-t border-white/20 pt-6 opacity-80 group-hover:opacity-100 transition-opacity duration-500">
                            <p class="text-gold-400 font-serif text-2xl italic">
                                {{ site_settings.currency_symbol }}{{ room_type.price_per_night }} 
                                <span class="text-xs font-sans text-gray-400 not-italic uppercase tracking-wider">/ Night</span>
                            </p>
                            <span class="w-10 h-10 rounded-full border border-white/30 flex items-center justify-center text-white group-hover:bg-gold-500 group-hover:border-gold-500 transition-all duration-300">
                                <span class="material-symbols-outlined text-sm">arrow_forward</span>
                            </span>
                        </div>
                    </div>
                </a>
            </div>
            {% empty %}
            <div class="col-span-3 text-center py-24">
                <span class="material-symbols-outlined text-6xl text-gray-300 mb-6">bedroom_parent</span>
                <h3 class="font-serif text-3xl text-dark-900 mb-4">No Rooms Available</h3>
                <p class="text-gray-500 font-light mb-8">We couldn't find any rooms matching your criteria.</p>
                <a href="/" class="px-8 py-3 bg-gold-500 text-white text-xs font-bold uppercase tracking-widest hover:bg-gold-600 transition-colors">Return Home</a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-24 bg-[#0F172A] relative overflow-hidden">
    <div class="absolute inset-0 opacity-20">
        <img src="https://images.unsplash.com/photo-1571896349842-6e5a51335022?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover">
    </div>
    <div class="relative z-10 max-w-4xl mx-auto text-center px-4">
        <h2 class="font-serif text-4xl md:text-5xl text-white mb-8">Ready to Experience Luxury?</h2>
        <p class="text-gray-300 text-lg font-light mb-10 max-w-2xl mx-auto">Book your stay today and enjoy exclusive benefits, including complimentary spa access and airport transfers.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#contact" class="px-8 py-4 bg-gold-500 hover:bg-gold-600 text-white text-sm font-bold uppercase tracking-widest transition-colors">
                Contact Concierge
            </a>
            <a href="/" class="px-8 py-4 border border-white/20 hover:bg-white hover:text-dark-900 text-white text-sm font-bold uppercase tracking-widest transition-colors">
                View Special Offers
            </a>
        </div>
    </div>
</section>

<style>
    @keyframes fade-in-up {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up { animation: fade-in-up 1s ease-out forwards; opacity: 0; }
    
    @keyframes scale-slow {
        from { transform: scale(1); }
        to { transform: scale(1.1); }
    }
    .animate-scale-slow { animation: scale-slow 20s linear infinite alternate; }
    
    .delay-100 { animation-delay: 0.2s; }
    .delay-200 { animation-delay: 0.4s; }
</style>
{% endblock %}
