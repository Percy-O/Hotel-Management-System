{% extends 'base_public.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<div class="relative h-screen min-h-[700px] flex items-center justify-center overflow-hidden">
    <!-- Background -->
    <div class="absolute inset-0 z-0">
        {% if site_settings.hero_background %}
            <img src="{{ site_settings.hero_background.url }}" alt="Hero" class="w-full h-full object-cover animate-scale-slow">
        {% else %}
            <img src="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=2070&auto=format&fit=crop" alt="Luxury Hotel" class="w-full h-full object-cover animate-scale-slow">
        {% endif %}
        <div class="absolute inset-0 bg-black/60"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-[#0F172A] via-transparent to-transparent opacity-90"></div>
    </div>

    <!-- Hero Text -->
    <div class="relative z-10 text-center px-4 max-w-5xl mx-auto -mt-20">
        <div class="inline-block mb-6 animate-fade-in-up">
            <div class="flex items-center gap-4">
                <div class="h-[1px] w-12 bg-gold-400/50"></div>
                <p class="text-gold-400 font-sans text-xs md:text-sm tracking-[0.3em] uppercase">The Essence of Luxury</p>
                <div class="h-[1px] w-12 bg-gold-400/50"></div>
            </div>
        </div>
        <h1 class="font-serif text-5xl md:text-7xl lg:text-8xl text-white mb-8 leading-tight animate-fade-in-up delay-100">
            Welcome to <br>
            <span class="italic text-gold-200">{{ request.tenant.name|default:"Coastal Whisper" }}</span>
        </h1>
        <p class="text-gray-200 text-lg font-light max-w-2xl mx-auto mb-12 animate-fade-in-up delay-200 leading-relaxed">
            {{ site_settings.hero_subtitle|default:"A sanctuary where nature meets modern elegance. Discover a world of comfort tailored exclusively for you." }}
        </p>
        
        <div class="animate-fade-in-up delay-300">
            <a href="#rooms" class="inline-flex items-center gap-2 px-8 py-4 border border-white/20 text-white text-sm font-bold uppercase tracking-widest hover:bg-white hover:text-dark-900 transition-all duration-300">
                Explore Rooms
            </a>
        </div>
    </div>

    <!-- Booking Widget (Floating) -->
    <div class="absolute bottom-0 left-0 right-0 z-20 px-4 pb-8 md:pb-16 animate-fade-in-up delay-300">
        <div class="max-w-6xl mx-auto bg-white/10 backdrop-blur-xl border border-white/10 shadow-2xl overflow-hidden flex flex-col md:flex-row">
            <form action="{% url 'room_list' %}" method="GET" class="w-full flex flex-col md:flex-row">
                <!-- Check In -->
                <div class="flex-1 p-6 border-b md:border-b-0 md:border-r border-white/10 hover:bg-white/5 transition-colors group cursor-pointer relative">
                    <label class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 group-hover:text-gold-400 transition-colors">Check In</label>
                    <input type="date" name="check_in" class="w-full bg-transparent border-none p-0 text-white font-serif text-xl focus:ring-0 cursor-pointer placeholder-white/50" placeholder="Select Date">
                </div>
                
                <!-- Check Out -->
                <div class="flex-1 p-6 border-b md:border-b-0 md:border-r border-white/10 hover:bg-white/5 transition-colors group cursor-pointer relative">
                    <label class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 group-hover:text-gold-400 transition-colors">Check Out</label>
                    <input type="date" name="check_out" class="w-full bg-transparent border-none p-0 text-white font-serif text-xl focus:ring-0 cursor-pointer placeholder-white/50" placeholder="Select Date">
                </div>

                <!-- Guests -->
                <div class="flex-1 p-6 border-b md:border-b-0 md:border-r border-white/10 hover:bg-white/5 transition-colors group cursor-pointer relative">
                    <label class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 group-hover:text-gold-400 transition-colors">Guests</label>
                    <select name="guests" class="w-full bg-transparent border-none p-0 text-white font-serif text-xl focus:ring-0 cursor-pointer appearance-none [&>option]:text-dark-900">
                        <option value="1">1 Adult</option>
                        <option value="2" selected>2 Adults</option>
                        <option value="3">3 Adults</option>
                        <option value="4">4+ Adults</option>
                    </select>
                </div>

                <!-- Button -->
                <button type="submit" class="bg-gold-500 hover:bg-gold-600 text-white font-sans font-bold uppercase tracking-widest px-10 py-6 md:py-0 transition-all duration-300 flex items-center justify-center gap-2 group">
                    Check Availability
                </button>
            </form>
        </div>
    </div>
</div>

<!-- Introduction -->
<section class="py-24" style="background-color: var(--color-section-background);">
    <div class="max-w-3xl mx-auto text-center px-4">
        <span class="text-gold-500 font-bold tracking-[0.2em] uppercase text-xs mb-4 block">Introduction</span>
        <h2 class="font-serif text-4xl md:text-5xl text-white mb-8">Our Sanctuaries</h2>
        <p class="text-gray-400 text-lg leading-relaxed font-light">
            Thoughtfully designed spaces that blend seamlessly with nature. 
            Each room offers a unique perspective of the surrounding beauty, 
            ensuring your stay is nothing short of extraordinary.
        </p>
    </div>
</section>

<!-- Rooms Showcase (New Card Design) -->
<section id="rooms" class="pb-24 px-4 sm:px-6 lg:px-8" style="background-color: var(--color-section-background);">
    <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for type in room_types|slice:":6" %}
            <div class="group flex flex-col h-[550px] w-full bg-slate-900 rounded-lg overflow-hidden border border-white/10 hover:border-gold-500/50 transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-gold-500/10" style="background-color: var(--color-card-background) !important;">
                <!-- Image Area (65%) -->
                <div class="relative h-[65%] overflow-hidden">
                    <a href="{% url 'room_detail' type.pk %}" class="block h-full w-full">
                        {% if type.image %}
                            <img src="{{ type.image.url }}" alt="{{ type.name }}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        {% else %}
                            <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39?q=80&w=2070&auto=format&fit=crop" alt="Room" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        {% endif %}
                        <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors"></div>
                    </a>
                    
                    <!-- Price Badge (Floating) -->
                    <div class="absolute bottom-4 left-4 bg-black/70 backdrop-blur-md px-4 py-2 border-l-2 border-gold-500">
                        <p class="text-gold-400 font-serif text-xl italic">
                            {{ site_settings.currency_symbol }}{{ type.price_per_night }} <span class="text-xs text-gray-400 font-sans not-italic uppercase">/ Night</span>
                        </p>
                    </div>
                </div>
                
                <!-- Content Area (35%) -->
                <div class="flex flex-col justify-between p-6 h-[35%] bg-slate-900 relative" style="background-color: var(--color-card-background) !important;">
                    <!-- Hover Glow Effect -->
                    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-1/2 h-1 bg-gold-500/0 group-hover:bg-gold-500/50 blur-sm transition-all duration-500"></div>

                    <div>
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-serif text-2xl text-white leading-tight group-hover:text-gold-400 transition-colors">
                                <a href="{% url 'room_detail' type.pk %}">{{ type.name }}</a>
                            </h3>
                        </div>
                        
                        <div class="flex gap-4 mt-1 mb-3">
                            <p class="text-gray-400 font-sans text-xs uppercase tracking-widest flex items-center gap-1">
                                <span class="material-symbols-outlined text-sm text-gold-500">person</span> {{ type.capacity }} Guests
                            </p>
                            <p class="text-gray-400 font-sans text-xs uppercase tracking-widest flex items-center gap-1">
                                <span class="material-symbols-outlined text-sm text-gold-500">square_foot</span> 45 m²
                            </p>
                        </div>
                    </div>

                    <div class="flex items-center justify-between border-t border-white/5 pt-4 mt-auto">
                        <span class="text-xs text-gray-500 uppercase tracking-wider">Luxury Collection</span>
                        <a href="{% url 'room_detail' type.pk %}" class="text-gold-400 text-xs font-bold uppercase tracking-widest hover:text-white transition-colors flex items-center gap-1 group-hover:gap-2 duration-300">
                            View Details <span class="material-symbols-outlined text-sm">arrow_forward</span>
                        </a>
                    </div>
                </div>
            </div>
            {% empty %}
            <!-- Placeholder -->
            <div class="group relative h-[600px] w-full overflow-hidden cursor-pointer bg-dark-800 border border-white/5">
                <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39?q=80&w=2070&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110 opacity-80 group-hover:opacity-100">
                <div class="absolute inset-0 bg-gradient-to-t from-[#0F172A] via-[#0F172A]/40 to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 w-full p-8">
                    <div class="border-l-2 border-gold-500 pl-6 mb-6">
                        <h3 class="font-serif text-3xl text-white mb-2 leading-none">Ocean Suite</h3>
                        <p class="text-gray-400 font-sans text-xs uppercase tracking-widest">2 Guests &bull; 45 m²</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="mt-16 text-center">
             <a href="{% url 'room_list' %}" class="inline-flex items-center gap-2 text-gold-400 hover:text-white uppercase tracking-widest text-xs font-bold transition-colors group">
                View All Accommodations
                <span class="material-symbols-outlined text-sm group-hover:translate-x-1 transition-transform">arrow_forward</span>
            </a>
        </div>
    </div>
</section>

<!-- Facilities -->
<section id="amenities" class="py-24 bg-white text-dark-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <span class="text-gold-600 font-bold tracking-[0.2em] uppercase text-xs mb-4 block">Amenities</span>
            <h2 class="font-serif text-4xl md:text-5xl text-dark-900 mb-6">World-Class Facilities</h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16">
             {% for facility in facilities %}
             <div class="p-8 border border-gray-100 text-center group hover:shadow-xl hover:shadow-gray-200/50 transition-all duration-300">
                <div class="w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center text-gold-500 mb-6 group-hover:bg-gold-500 group-hover:text-white transition-colors">
                    <span class="material-symbols-outlined text-3xl">{{ facility.icon|default:'hotel' }}</span>
                </div>
                <h3 class="font-serif text-xl mb-2">{{ facility.name }}</h3>
                <p class="text-sm text-gray-500 font-light">{{ facility.description }}</p>
             </div>
             {% empty %}
             <!-- Default Static Facilities if none added -->
             <div class="p-8 border border-gray-100 text-center group hover:shadow-xl hover:shadow-gray-200/50 transition-all duration-300">
                <div class="w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center text-gold-500 mb-6 group-hover:bg-gold-500 group-hover:text-white transition-colors">
                    <span class="material-symbols-outlined text-3xl">spa</span>
                </div>
                <h3 class="font-serif text-xl mb-2">Azure Spa</h3>
                <p class="text-sm text-gray-500 font-light">Holistic treatments for mind and body.</p>
             </div>
             <div class="p-8 border border-gray-100 text-center group hover:shadow-xl hover:shadow-gray-200/50 transition-all duration-300">
                <div class="w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center text-gold-500 mb-6 group-hover:bg-gold-500 group-hover:text-white transition-colors">
                    <span class="material-symbols-outlined text-3xl">pool</span>
                </div>
                <h3 class="font-serif text-xl mb-2">Infinity Pool</h3>
                <p class="text-sm text-gray-500 font-light">Panoramic views of the ocean.</p>
             </div>
             <div class="p-8 border border-gray-100 text-center group hover:shadow-xl hover:shadow-gray-200/50 transition-all duration-300">
                <div class="w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center text-gold-500 mb-6 group-hover:bg-gold-500 group-hover:text-white transition-colors">
                    <span class="material-symbols-outlined text-3xl">restaurant</span>
                </div>
                <h3 class="font-serif text-xl mb-2">Fine Dining</h3>
                <p class="text-sm text-gray-500 font-light">Culinary masterpieces by top chefs.</p>
             </div>
             <div class="p-8 border border-gray-100 text-center group hover:shadow-xl hover:shadow-gray-200/50 transition-all duration-300">
                <div class="w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center text-gold-500 mb-6 group-hover:bg-gold-500 group-hover:text-white transition-colors">
                    <span class="material-symbols-outlined text-3xl">fitness_center</span>
                </div>
                <h3 class="font-serif text-xl mb-2">Gym & Yoga</h3>
                <p class="text-sm text-gray-500 font-light">State-of-the-art equipment.</p>
             </div>
             {% endfor %}
        </div>
    </div>
</section>

<!-- Events Section (Conditional) -->
{% if site_settings.enable_events %}
<section id="events" class="py-24 relative overflow-hidden" style="background-color: var(--color-section-background);">
    <!-- Decorative Background -->
    <div class="absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-gold-500/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-gold-500/10 rounded-full blur-3xl"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="flex flex-col md:flex-row items-center gap-16">
            <div class="w-full md:w-1/2">
                <span class="text-gold-500 font-bold tracking-[0.2em] uppercase text-xs mb-4 block">Celebrations</span>
                <h2 class="font-serif text-4xl md:text-5xl text-white mb-6">Unforgettable Events</h2>
                <p class="text-gray-400 text-lg leading-relaxed font-light mb-8">
                    From intimate gatherings to grand weddings, our versatile venues set the stage for your most cherished moments. 
                    Expert planning, exquisite catering, and flawless execution ensure every detail is perfect.
                </p>
                
                <ul class="space-y-4 mb-10">
                    {% if event_halls %}
                        {% for hall in event_halls %}
                        <li class="flex items-center gap-4 text-gray-300 font-light">
                            <span class="w-8 h-8 rounded-full border border-gold-500/30 flex items-center justify-center text-gold-400">
                                <span class="material-symbols-outlined text-sm">event_seat</span>
                            </span>
                            {{ hall.name }} (Cap: {{ hall.capacity }})
                        </li>
                        {% endfor %}
                    {% else %}
                        <li class="flex items-center gap-4 text-gray-300 font-light">
                            <span class="w-8 h-8 rounded-full border border-gold-500/30 flex items-center justify-center text-gold-400">
                                <span class="material-symbols-outlined text-sm">church</span>
                            </span>
                            Weddings & Receptions
                        </li>
                        <li class="flex items-center gap-4 text-gray-300 font-light">
                            <span class="w-8 h-8 rounded-full border border-gold-500/30 flex items-center justify-center text-gold-400">
                                <span class="material-symbols-outlined text-sm">groups</span>
                            </span>
                            Corporate Conferences
                        </li>
                    {% endif %}
                </ul>

                <a href="{% url 'public_event_hall_list' %}" class="inline-flex items-center gap-2 px-8 py-4 bg-gold-500 hover:bg-gold-600 text-white text-sm font-bold uppercase tracking-widest transition-all duration-300">
                    Explore Venues
                </a>
            </div>
            
            <div class="w-full md:w-1/2 relative">
                <div class="relative h-[500px] w-full">
                    <!-- Main Image -->
                    <div class="absolute inset-0 bg-dark-800 rounded-sm overflow-hidden border border-white/10 transform translate-x-4 translate-y-4">
                        {% if event_halls.0 and event_halls.0.image %}
                            <img src="{{ event_halls.0.image.url }}" class="w-full h-full object-cover opacity-60">
                        {% else %}
                            <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?q=80&w=2098&auto=format&fit=crop" class="w-full h-full object-cover opacity-60">
                        {% endif %}
                    </div>
                    <!-- Front Image -->
                    <div class="absolute inset-0 bg-dark-800 rounded-sm overflow-hidden border border-white/10 shadow-2xl transform -translate-x-4 -translate-y-4">
                         {% if event_halls.0 and event_halls.0.image %}
                            <img src="{{ event_halls.0.image.url }}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-700">
                        {% else %}
                            <img src="https://images.unsplash.com/photo-1511795409834-ef04bbd61622?q=80&w=2069&auto=format&fit=crop" class="w-full h-full object-cover hover:scale-105 transition-transform duration-700">
                        {% endif %}
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                        <div class="absolute bottom-8 left-8 text-white">
                            {% if event_halls.0 %}
                                <p class="font-serif text-3xl italic">{{ event_halls.0.name }}</p>
                                <p class="text-xs uppercase tracking-widest mt-2">Capacity: {{ event_halls.0.capacity }} Guests</p>
                            {% else %}
                                <p class="font-serif text-3xl italic">The Grand Ballroom</p>
                                <p class="text-xs uppercase tracking-widest mt-2">Capacity: 500 Guests</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Halls Preview Grid -->
        <!-- Removed list of halls as per user request to use dedicated page -->
    </div>
</section>
{% endif %}

<!-- Gym Section (Conditional) -->
{% if site_settings.enable_gym %}
<section id="gym" class="py-24 bg-white relative">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col md:flex-row-reverse items-center gap-16">
            <div class="w-full md:w-1/2">
                <span class="text-gold-600 font-bold tracking-[0.2em] uppercase text-xs mb-4 block">Wellness</span>
                <h2 class="font-serif text-4xl md:text-5xl text-dark-900 mb-6">Revitalize Your Senses</h2>
                <p class="text-gray-500 text-lg leading-relaxed font-light mb-8">
                    Maintain your fitness routine in our state-of-the-art facility, or find your inner peace in our yoga studio. 
                    Personal trainers and wellness coaches are available to guide your journey.
                </p>
                
                <div class="grid grid-cols-2 gap-6 mb-10">
                    <div class="p-6 bg-gray-50 border border-gray-100">
                        <span class="material-symbols-outlined text-gold-500 text-3xl mb-3">cardiology</span>
                        <h4 class="font-serif text-lg text-dark-900 mb-1">Modern Cardio</h4>
                        <p class="text-xs text-gray-500">Latest Technogym equipment</p>
                    </div>
                    <div class="p-6 bg-gray-50 border border-gray-100">
                        <span class="material-symbols-outlined text-gold-500 text-3xl mb-3">self_improvement</span>
                        <h4 class="font-serif text-lg text-dark-900 mb-1">Yoga Studio</h4>
                        <p class="text-xs text-gray-500">Daily sunrise sessions</p>
                    </div>
                </div>

                <a href="{% url 'public_gym_plan_list' %}" class="inline-flex items-center gap-2 px-8 py-4 border border-dark-900 text-dark-900 hover:bg-dark-900 hover:text-white text-sm font-bold uppercase tracking-widest transition-all duration-300">
                    View Membership Plans
                </a>
            </div>
            
            <div class="w-full md:w-1/2">
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-4 mt-8">
                        <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=2070&auto=format&fit=crop" class="w-full h-64 object-cover grayscale hover:grayscale-0 transition-all duration-500 rounded-sm">
                        <img src="https://images.unsplash.com/photo-1599058945522-28d584b6f0ff?q=80&w=2069&auto=format&fit=crop" class="w-full h-48 object-cover grayscale hover:grayscale-0 transition-all duration-500 rounded-sm">
                    </div>
                    <div class="space-y-4">
                        <img src="https://images.unsplash.com/photo-1571902943202-507ec2618e8f?q=80&w=1975&auto=format&fit=crop" class="w-full h-48 object-cover grayscale hover:grayscale-0 transition-all duration-500 rounded-sm">
                        <img src="https://images.unsplash.com/photo-1518611012118-696072aa579a?q=80&w=2070&auto=format&fit=crop" class="w-full h-64 object-cover grayscale hover:grayscale-0 transition-all duration-500 rounded-sm">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Call to Action -->
<section class="py-24 bg-[#0F172A] relative overflow-hidden">
    <div class="absolute inset-0 opacity-20">
        <img src="https://images.unsplash.com/photo-1571896349842-6e5a51335022?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover">
    </div>
    <div class="relative z-10 max-w-4xl mx-auto text-center px-4">
        <h2 class="font-serif text-4xl md:text-5xl text-white mb-8">Ready to Experience Luxury?</h2>
        <p class="text-gray-300 text-lg font-light mb-10 max-w-2xl mx-auto">Book your stay today and enjoy exclusive benefits, including complimentary spa access and airport transfers.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{% url 'contact_us' %}" class="px-8 py-4 bg-gold-500 hover:bg-gold-600 text-white text-sm font-bold uppercase tracking-widest transition-colors">
                {{ request.tenant.name|default:"Contact Us" }}
            </a>
            <a href="{% url 'room_list' %}" class="px-8 py-4 border border-white/20 hover:bg-white hover:text-dark-900 text-white text-sm font-bold uppercase tracking-widest transition-colors">
                View Special Offers
            </a>
        </div>
    </div>
</section>

<style>
    @keyframes fade-in-up {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up { animation: fade-in-up 1s ease-out forwards; opacity: 0; }
    
    @keyframes scale-slow {
        from { transform: scale(1); }
        to { transform: scale(1.1); }
    }
    .animate-scale-slow { animation: scale-slow 20s linear infinite alternate; }
    
    .delay-100 { animation-delay: 0.2s; }
    .delay-200 { animation-delay: 0.4s; }
    .delay-300 { animation-delay: 0.6s; }
</style>
{% endblock %}