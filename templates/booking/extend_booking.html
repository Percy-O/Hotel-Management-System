{% extends user.can_manage_bookings|yesno:"dashboard_base.html,guest_dashboard_base.html" %}

{% block header_title %}Extend Booking{% endblock %}
{% block header_subtitle %}Extend your stay for Booking #{{ booking.id }}{% endblock %}

{% block dashboard_content %}
<div class="max-w-xl mx-auto">
    <div class="bg-surface-dark p-8 rounded-2xl border border-border-dark shadow-xl">
        <h3 class="text-xl font-bold text-text-main mb-6">Select New Checkout Date</h3>
        
        <div class="mb-6 p-4 bg-primary/10 rounded-lg border border-primary/20">
            <p class="text-sm text-text-main">
                <span class="font-bold text-primary">Current Checkout:</span> {{ booking.check_out_date|date:"M d, Y" }}
            </p>
        </div>
        
        <form method="POST" action="">
            {% csrf_token %}
            
            <div class="mb-6">
                <label for="new_check_out_date" class="block text-sm font-medium text-text-secondary-dark mb-2">New Checkout Date</label>
                <input type="datetime-local" id="new_check_out_date" name="new_check_out_date" required
                    class="w-full px-4 py-3 bg-background-dark border border-border-dark rounded-lg text-text-main focus:outline-none focus:border-primary transition-colors"
                    min="{{ booking.check_out_date|date:'Y-m-d\TH:i' }}">
                <p class="mt-2 text-xs text-text-secondary-dark">Select a date and time after your current checkout.</p>
            </div>
            
            <div class="flex gap-4">
                <a href="{% url 'booking_detail' booking.pk %}" class="flex-1 px-4 py-3 bg-surface-dark border border-border-dark text-text-main font-bold rounded-xl text-center hover:bg-white/5 transition-colors">
                    Cancel
                </a>
                <button type="submit" class="flex-1 px-4 py-3 bg-primary text-slate-900 font-bold rounded-xl hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20">
                    Confirm Extension
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
